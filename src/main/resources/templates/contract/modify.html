<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/basic.html}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--display: inline-block; -->

    <style>
        label {
            width: 130px;
            text-align: center;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<div layout:fragment="content">
    <div class="container-fluid">
        <div class="row mt-4" th:with="dto=${dto}">
            <div class="col">
                <form method="post" id="modify" action="/contract/modify">
                    <div class="card">
                        <div class="card-header">
                            <h5><strong>계약관리</strong> | 계약수정</h5>
                        </div>
                        <div class="card-body">
                            <div class="card-header">
                                <h5><strong>계약 정보</strong></h5>
                            </div>
                            <dlv class="input-group mb-3">
                                <label class="input-group-text">품목코드</label>
                                <input type="text" class="form-control" th:value="${dto.productDTO.pcode}" readonly>
                            </dlv>
                            <div class="input-group mb-3">
                                <label class="input-group-text">계약코드</label>
                                <input type="text" id="ccode" name="ccode" class="form-control" th:value="${dto.ccode}"
                                       readonly>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">계약일자</label>
                                <input type="date" class="form-control" th:value="${dto.cdate}" readonly>
                            </div>
                            <div class="row">
                                <div class="input-group mb-3">
                                    <label class="input-group-text">계약상태</label>
                                    <input type="text" class="form-control" th:value="${dto.cstate}" readonly>
                                </div>
                                <div class="input-group mb-3">
                                    <label class="input-group-text">계약상태 변경</label>
                                    <select id="cstate" name="cstate" class="form-select">
                                        <option value="complete">계약완료</option>
                                        <option value="end">계약종료</option>
                                    </select>

                                    <div class="col" th:with="link = ${contractPageRequestDTO.getLink()}">
                                        <input type="hidden" th:value="${link}" id="link" name="link">
                                        <input class="btn btn-primary" type="submit" value="수정">
                                    </div>
                                </div>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">계약상태</label>
                                <input type="text" class="form-control" th:value="${dto.cstate}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">양도양수조건</label>
                                <textarea class="form-control" th:text="${dto.ccontent}" readonly></textarea>
                            </div>
                        </div>      <!-- * card-body끝 *-->
                    </div>      <!-- * card 끝 *-->

                    <div class="card">
                        <div class="card-body">
                            <div class="card-header">
                                <h5><strong>품목 정보</strong></h5>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">품목코드</label>
                                <input type="text" class="form-control" th:value="${dto.productDTO.pcode}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">품목이름</label>
                                <input type="text" class="form-control" th:value="${dto.productDTO.pname}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">품목분류1</label>
                                <input type="text" class="form-control" th:value="${dto.productDTO.topDTO.tname}"
                                       readonly>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">품목분류2</label>
                                <input type="text" class="form-control" th:value="${dto.productDTO.middleDTO.mname}"
                                       readonly>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">공급단가</label>
                                <input type="text" class="form-control" th:value="${dto.cprice}" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="card-header">
                                <h5><strong>납품업체 정보</strong></h5>
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">사업자 등록번호</label>
                                <input type="text" readonly class="form-control" th:value="${dto.partnerDTO.ptno}">
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">상호</label>
                                <input type="text" readonly class="form-control" th:value="${dto.partnerDTO.ptname}">
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">대표자</label>
                                <input type="text" readonly class="form-control" th:value="${dto.partnerDTO.ptceoname}">
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">주소</label>
                                <input type="text" readonly class="form-control" th:value="${dto.partnerDTO.ptadd}">
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">전화번호</label>
                                <input type="text" readonly class="form-control" th:value="${dto.partnerDTO.ptnum}">
                            </div>
                            <div class="input-group mb-3">
                                <label class="input-group-text">팩스</label>
                                <input type="text" readonly class="form-control" th:value="${dto.partnerDTO.ptfax}">
                            </div>

                            <div class="float-end">
                                <input class="btn btn-dark" type="button" value="목록" onclick="back()">
                            </div>
                        </div>       <!-- * card-body끝 *-->

                    </div>
                </form>

            </div>      <!-- * col 끝 * -->
        </div>
    </div>
</div>
<script layout:fragment="script" th:inline="javascript">

    var link = $("#link").val();

    function back() {
        location.href = '/contract/list?' + link;
    }
</script>

<body>

</body>
</html>